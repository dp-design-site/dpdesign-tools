<!DOCTYPE html>
<html lang="bg">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DP Design Pilot – Визуален контрол за инженерна документация</title>
  <link rel="icon" href="img/DP_DWG_32x32.png" />
  <link rel="stylesheet" href="styles/style.css" />
  <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("RNylG-hhPPast_2hi");
    })();
  </script>
  <style>
    .lang-switch {
      position: relative;
      text-align: right;
      margin: 10px 20px;
      font-size: 0.9rem;
    }
    .lang-switch button {
      background-color: transparent;
      color: #aaa;
      border: 1px solid #555;
      padding: 5px 10px;
      border-radius: 4px;
      cursor: pointer;
    }
    .lang-switch button img {
      width: 18px;
      height: 12px;
      margin-right: 6px;
      vertical-align: middle;
    }
    .lang-dropdown {
      position: absolute;
      right: 0;
      background-color: #2c2c2c;
      border: 1px solid #555;
      border-radius: 4px;
      display: none;
      margin-top: 5px;
      z-index: 999;
    }
    .lang-dropdown a {
      display: block;
      padding: 6px 12px;
      color: #ccc;
      text-decoration: none;
      white-space: nowrap;
    }
    .lang-dropdown a:hover {
      background-color: #444;
    }
    .fullscreen-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.9);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .fullscreen-overlay img {
      max-width: 90vw;
      max-height: 90vh;
      border: 4px solid #444;
      border-radius: 8px;
    }
    .fullscreen-overlay.active {
      display: flex;
    }
    .screenshot img {
      cursor: zoom-in;
      transition: transform 0.2s ease;
    }
    .signup form {
      display: flex;
      flex-direction: column;
      gap: 12px;
      max-width: 480px;
      margin: 0 auto;
      background-color: #1f1f1f;
      padding: 20px;
      border-radius: 8px;
    }
    .signup input,
    .signup select,
    .signup textarea {
      background-color: #2c2c2c;
      color: #fff;
      border: 1px solid #444;
      padding: 8px;
      border-radius: 4px;
    }
    .signup .collapsible {
      margin-top: 10px;
      cursor: pointer;
      background: #333;
      padding: 8px 12px;
      border-radius: 4px;
      color: #aaa;
      text-align: left;
      border: none;
    }
    .signup .collapsible-content {
      display: none;
      margin-top: 10px;
    }
    .signup .collapsible.open + .collapsible-content {
      display: block;
    }
  </style>
</head>
<body>
  <div class="lang-switch">
    <button onclick="toggleLangMenu()">
      <img src="img/flag-bg.png" alt="BG"> BG ▾
    </button>
    <div class="lang-dropdown" id="lang-menu">
      <a href="#" class="active"><img src="img/flag-bg.png" alt="BG"> BG</a>
      <a href="index-en.html"><img src="img/flag-en.png" alt="EN"> EN</a>
      <a href="index-de.html"><img src="img/flag-de.png" alt="DE"> DE</a>
      <a href="index-fr.html"><img src="img/flag-fr.png" alt="FR"> FR</a>
    </div>
  </div>

  <script>
    function toggleLangMenu() {
      const menu = document.getElementById('lang-menu');
      menu.style.display = (menu.style.display === 'block') ? 'none' : 'block';
    }
    document.addEventListener('click', function(e) {
      const menu = document.getElementById('lang-menu');
      const button = document.querySelector('.lang-switch button');
      if (!button.contains(e.target) && !menu.contains(e.target)) {
        menu.style.display = 'none';
      }
    });
  </script>

  <div class="fullscreen-overlay" id="imageOverlay">
    <img src="img/DP_design_pilot.png" alt="DP Screenshot Full" />
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const screenshot = document.querySelector(".screenshot img");
      const overlay = document.getElementById("imageOverlay");
      if (screenshot && overlay) {
        screenshot.addEventListener("click", () => {
          overlay.classList.add("active");
        });
        overlay.addEventListener("click", () => {
          overlay.classList.remove("active");
        });
        document.addEventListener("keydown", (e) => {
          if (e.key === "Escape") {
            overlay.classList.remove("active");
          }
        });
      }

      const collapsible = document.getElementById("expandMore");
      if (collapsible) {
        collapsible.addEventListener("click", () => {
          collapsible.classList.toggle("open");
        });
      }
    });
  </script>

  <header class="header">
    <div class="container">
      <img src="img/DP_DWG_32x32.png" alt="DP Logo" class="logo" />
      <h1>DP Design Pilot</h1>
      <p class="subtitle">Визуален контрол върху инженерната документация</p>
    </div>
  </header>

  <section class="signup" id="signup">
    <div class="container">
      <h3>Искаш ли да тестваш DP Design Pilot?</h3>
      <p><strong>Попълни формата и получи 2 месеца безплатен достъп. Без обвързване. Без риск.</strong></p>

      <form id="contact-form">
        <input type="email" name="email" placeholder="Имейл за връзка" required />

        <button type="button" class="collapsible" id="expandMore">Искаш ли да ни кажеш повече?</button>
        <div class="collapsible-content">
          <select name="cad_system">
            <option value="">Използваш ли Inventor?</option>
            <option>Да</option>
            <option>Не</option>
            <option>Ползвам друг CAD</option>
          </select>

          <select name="missing_docs">
            <option value="">Колко често липсва документация?</option>
            <option>Почти винаги</option>
            <option>Понякога</option>
            <option>Рядко</option>
            <option>Никога</option>
          </select>

          <select name="willing_to_pay">
            <option value="">Би ли платил за такъв инструмент?</option>
            <option>Да – €5/месец</option>
            <option>Да – €10/месец</option>
            <option>Да – €20/месец</option>
            <option>Не бих</option>
          </select>

          <textarea name="suggestion" rows="3" placeholder="Свободен коментар (по избор)"></textarea>
        </div>

        <label class="privacy-note">
          <input type="checkbox" required /> Съгласен съм с <a href="privacy-policy.html" class="privacy-link" target="_blank">правилата за поверителност</a>.
        </label>

        <button type="submit">Изпрати</button>
      </form>

      <p id="form-status"></p>
    </div>
  </section>

  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 DP Design. Всички права запазени. | <a href="privacy-policy.html" target="_blank">Политика за поверителност</a></p>
    </div>
  </footer>

  <script>
    document.getElementById("contact-form").addEventListener("submit", function (e) {
      e.preventDefault();
      emailjs.sendForm("service_exwl56d", "template_3huajmr", this)
        .then(() => {
          document.getElementById("form-status").innerText = "Благодарим! Ще се свържем с теб скоро.";
          this.reset();
        }, (error) => {
          document.getElementById("form-status").innerText = "Възникна грешка. Моля, опитайте отново.";
          console.error("EmailJS error:", error);
        });
    });
  </script>
</body>
</html>
