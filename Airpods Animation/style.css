/* =============================================================
   DP PRESENTATION v2 — CLEANED & FIXED CSS (FULL FILE)
   - Подреден и редуциран спрямо текущия HTML/JS в канвасите
   - Запазени са нужните анимации за карусела
   - Нов layout при .showDetail: 2 колони (sticky viewer + scroll панел)
   ============================================================= */

@import url('https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

/* ------------------------ THEME TOKENS ------------------------ */
:root{
  --bg-color: #0b0b0b;
  --text-color: #eee;
  --secondary-text: #b9b9b9;
  --button-text: #eee;
  --button-hover: #333;
  --accent-color: #cc0000;
  --header-offset: 80px; /* използва се за sticky viewer */

  /* позиционни стойности за карусела */
  --item1-transform: translateX(-100%) translateY(-5%) scale(1.5);
  --item1-filter: blur(30px);
  --item1-zIndex: 11;
  --item1-opacity: 0;

  --item2-transform: translateX(0);
  --item2-filter: blur(0px);
  --item2-zIndex: 10;
  --item2-opacity: 1;

  --item3-transform: translate(50%,10%) scale(0.8);
  --item3-filter: blur(10px);
  --item3-zIndex: 9;
  --item3-opacity: 1;

  --item4-transform: translate(90%,20%) scale(0.5);
  --item4-filter: blur(30px);
  --item4-zIndex: 8;
  --item4-opacity: 1;

  --item5-transform: translate(120%,30%) scale(0.3);
  --item5-filter: blur(40px);
  --item5-zIndex: 7;
  --item5-opacity: 0;
}

body{margin:0;background:var(--bg-color);color:var(--text-color);font-family:Poppins,system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial}

/* --------------------------- HEADER --------------------------- */
header{
  position: fixed; inset: 0 0 auto 0; height: 50px;
  background: rgb(17 17 17 / 35%);
  display:flex; align-items:center; justify-content:space-between;
  padding: 10px 30px; z-index:1000; backdrop-filter: blur(6px);
  box-shadow: 0 2px 4px rgba(0,0,0,.5);
}
header .logo-wrapper{display:flex;align-items:center;gap:12px}
header .logo-wrapper img{height:40px}
header .logo-wrapper span{color:var(--accent-color);font-weight:700;font-size:20px}

.nav-menu{display:flex;gap:20px;align-items:center}
.nav-menu a{color:#eee;text-decoration:none;font-weight:700;cursor:pointer}
.user-menu{position:relative}
.user-icon{font-size:22px;cursor:pointer;color:#eee}

/* --------------------------- CAROUSEL -------------------------- */
.carousel{position:relative; height:800px; overflow:hidden; margin-top:50px}
.carousel .list{position:absolute; width:1140px; max-width:95%; height:100%; left:50%; transform:translateX(-50%)}
.carousel .list .item{position:absolute; left:0; width:70%; height:100%; font-size:15px; transition:left .5s, opacity .5s, width .5s}
.carousel .list .item:nth-child(n+6){opacity:0}
.carousel .list .item:nth-child(2){z-index:10; transform:translateX(0)}

/* визуализация и кратко интро в основния режим */
.visual{width:50%; position:absolute; right:0; top:50%; transform:translateY(-50%); transition:right 1.5s}
.visual .preview,.visual .viewer{position:absolute; inset:0; width:100%; height:100%; transition:opacity .5s; object-fit:contain}
.visual .viewer{opacity:0; pointer-events:none}

.carousel .list .item .introduce{opacity:0; pointer-events:none}
.carousel .list .item:nth-child(2) .introduce{opacity:1; pointer-events:auto; width:400px; position:absolute; top:50%; transform:translateY(-50%); transition:opacity .5s}
.carousel .list .item .introduce .title{font-size:2em; font-weight:500; line-height:1}
.carousel .list .item .introduce .topic{font-size:4em; font-weight:500}
.carousel .list .item .introduce .des{font-size:small; color:var(--secondary-text)}
.carousel .list .item .introduce .seeMore{font-family:Poppins;margin-top:1.2em;padding:5px 0;border:none;border-bottom:1px solid #555;background:transparent;color:var(--button-text);font-weight:700;letter-spacing:3px;transition:background .3s}
.carousel .list .item .introduce .seeMore:hover{background:var(--button-hover)}

/* позициониране на останалите елементи */
.carousel .list .item:nth-child(1){transform:var(--item1-transform); filter:var(--item1-filter); z-index:var(--item1-zIndex); opacity:var(--item1-opacity); pointer-events:none}
.carousel .list .item:nth-child(3){transform:var(--item3-transform); filter:var(--item3-filter); z-index:var(--item3-zIndex)}
.carousel .list .item:nth-child(4){transform:var(--item4-transform); filter:var(--item4-filter); z-index:var(--item4-zIndex)}
.carousel .list .item:nth-child(5){transform:var(--item5-transform); filter:var(--item5-filter); opacity:var(--item5-opacity); pointer-events:none}

/* анимация на интро текста в активния елемент */
.carousel .list .item:nth-child(2) .introduce .title,
.carousel .list .item:nth-child(2) .introduce .topic,
.carousel .list .item:nth-child(2) .introduce .des,
.carousel .list .item:nth-child(2) .introduce .seeMore{opacity:0;animation:showContent .5s 1s ease-in-out 1 forwards}
@keyframes showContent{from{transform:translateY(-30px);filter:blur(10px)}to{transform:translateY(0);opacity:1;filter:blur(0)}}
.carousel .list .item:nth-child(2) .introduce .topic{animation-delay:1.2s}
.carousel .list .item:nth-child(2) .introduce .des{animation-delay:1.4s}
.carousel .list .item:nth-child(2) .introduce .seeMore{animation-delay:1.6s}

/* навигация отпред/назад */
.carousel.next .item:nth-child(1){animation:fromPos2 .5s ease-in-out 1 forwards}
@keyframes fromPos2{from{transform:var(--item2-transform);filter:var(--item2-filter);opacity:var(--item2-opacity)}}
.carousel.next .item:nth-child(2){animation:fromPos3 .7s ease-in-out 1 forwards}
@keyframes fromPos3{from{transform:var(--item3-transform);filter:var(--item3-filter);opacity:var(--item3-opacity)}}
.carousel.next .item:nth-child(3){animation:fromPos4 .9s ease-in-out 1 forwards}
@keyframes fromPos4{from{transform:var(--item4-transform);filter:var(--item4-filter);opacity:var(--item4-opacity)}}
.carousel.next .item:nth-child(4){animation:fromPos5 1.1s ease-in-out 1 forwards}
@keyframes fromPos5{from{transform:var(--item5-transform);filter:var(--item5-filter);opacity:var(--item5-opacity)}}

/* previous */
.carousel.prev .list .item:nth-child(5){animation:fromPos4 .5s ease-in-out 1 forwards}
.carousel.prev .list .item:nth-child(4){animation:fromPos3 .7s ease-in-out 1 forwards}
.carousel.prev .list .item:nth-child(3){animation:fromPos2 .9s ease-in-out 1 forwards}
.carousel.prev .list .item:nth-child(2){animation:fromPos1 1.1s ease-in-out 1 forwards}
@keyframes fromPos1{from{transform:var(--item1-transform);filter:var(--item1-filter);opacity:var(--item1-opacity)}}

/* ----------------------- DETAIL (SHOW MODE) -------------------- */
.carousel .list .item .detail{opacity:0; pointer-events:none}

/* 2-колонен режим при отворени детайли */
.carousel.showDetail{overflow:visible; height:auto; min-height:calc(100vh - var(--header-offset))}
.carousel.showDetail .list{position:relative; height:auto}

/* скриваме останалите елементи зад активния */
.carousel.showDetail .list .item:nth-child(3),
.carousel.showDetail .list .item:nth-child(4){left:100%;opacity:0;pointer-events:none}

/* активният елемент става flex контейнер */
.carousel.showDetail .list .item:nth-child(2){position:relative; display:flex; align-items:flex-start; gap:40px; width:100%; left:0; transform:none}

/* ляво: визуализация — sticky, винаги видим */
.carousel.showDetail .list .item:nth-child(2) .visual{position:sticky; top:calc(var(--header-offset) + 10px); right:auto; left:auto; transform:none; width:55%; height:calc(100vh - (var(--header-offset) + 30px))}
.carousel.showDetail .list .item:nth-child(2) .visual .preview,
.carousel.showDetail .list .item:nth-child(2) .visual .viewer{position:absolute; inset:0; width:100%; height:100%; object-fit:contain}

/* дясно: детайли — скролируем панел */
.carousel.showDetail .list .item:nth-child(2) .introduce{opacity:0; pointer-events:none}
.carousel.showDetail .list .item:nth-child(2) .detail{opacity:1; position:relative; right:auto; top:auto; transform:none; text-align:left; pointer-events:auto; width:45%; max-height:calc(100vh - (var(--header-offset) + 30px)); overflow-y:auto; -webkit-overflow-scrolling:touch; padding-right:12px}
.carousel.showDetail .list .item:nth-child(2) .detail .title{font-size:4em; text-align:left}

/* вътрешни елементи на детайла */
.carousel.showDetail .list .item:nth-child(2) .detail .specifications{display:flex; gap:10px; width:100%; border-top:1px solid #5553; margin-top:20px}
.carousel.showDetail .list .item:nth-child(2) .detail .specifications div{width:90px; text-align:center; flex-shrink:0}
.carousel.showDetail .list .item:nth-child(2) .detail .specifications div p:first-child{font-weight:700}

.carousel.showDetail .list .item:nth-child(2) .checkout button{font-family:Poppins; background:transparent; border:1px solid #5555; margin-left:5px; padding:5px 10px; letter-spacing:2px; font-weight:500}
.carousel.showDetail .list .item:nth-child(2) .checkout button:nth-child(2){background:#693EFF;color:#eee}

/* плавно появяване на частите в детайла */
.carousel.showDetail .list .item:nth-child(2) .detail .title,
.carousel.showDetail .list .item:nth-child(2) .detail .des,
.carousel.showDetail .list .item:nth-child(2) .detail .specifications,
.carousel.showDetail .list .item:nth-child(2) .detail .checkout{opacity:0;animation:showContent .5s 1s ease-in-out 1 forwards}
.carousel.showDetail .list .item:nth-child(2) .detail .des{animation-delay:1.2s}
.carousel.showDetail .list .item:nth-child(2) .detail .specifications{animation-delay:1.4s}
.carousel.showDetail .list .item:nth-child(2) .detail .checkout{animation-delay:1.6s}

/* контроли за навигация */
.arrows{position:absolute; bottom:10px; width:1140px; max-width:90%; display:flex; justify-content:space-between; left:50%; transform:translateX(-50%)}
#prev,#next{width:40px;height:40px;border-radius:50%;font-family:monospace;border:2px solid #5555;color:var(--button-text);background:transparent;font-size:large}
#back{position:absolute;z-index:100;bottom:0;left:50%;transform:translateX(-50%);border:none;border-bottom:1px solid #555;color:var(--button-text);font-family:Poppins;font-weight:700;letter-spacing:3px;background:transparent;padding:10px;transition:opacity .5s}
.carousel.showDetail #back{opacity:1}
.carousel.showDetail #prev,.carousel.showDetail #next{opacity:0;pointer-events:none}

/* декоративен фон */
.carousel::before{width:500px;height:300px;content:"";background-image:linear-gradient(70deg,#DC422A,#3b14ff);position:absolute;z-index:-1;border-radius:20% 30% 80% 10%;filter:blur(150px);top:50%;left:50%;transform:translate(-10%,-50%);transition:1s}
.carousel.showDetail::before{transform:translate(-100%,-50%) rotate(90deg);filter:blur(130px)}

/* ------------------------- RESPONSIVE ------------------------- */
@media (max-width: 991px){
  .carousel .list .item{width:90%}
  .carousel.showDetail .list .item:nth-child(2){flex-direction:column}
  .carousel.showDetail .list .item:nth-child(2) .visual,
  .carousel.showDetail .list .item:nth-child(2) .detail{width:100%}
  .carousel.showDetail .list .item:nth-child(2) .visual{position:relative;height:50vh}
  .carousel.showDetail .list .item:nth-child(2) .detail{max-height:none}
  .carousel.showDetail .list .item:nth-child(2) .detail .title{font-size:2em}
}

@media (max-width: 767px){
  .carousel{height:600px}
  .carousel .list .item{width:100%;font-size:10px}
  .carousel .list{height:100%}
  .carousel .list .item:nth-child(2) .introduce{width:50%}
  .carousel .list .item .visual{width:40%}
  .carousel.showDetail .list .item:nth-child(2) .detail{backdrop-filter:blur(10px);font-size:small}
  .carousel .list .item:nth-child(2) .introduce .des,
  .carousel.showDetail .list .item:nth-child(2) .detail .des{height:100px;overflow:auto}
}

/* ---------------------- CONFIG PANEL BLOCKS ------------------- */
/* Тези блокове са част от детайлния панел (дясната колона) */
.main-container{display:grid;grid-template-columns:.9fr 1.1fr;gap:20px;padding:160px 5% 40px;max-width:1600px;margin:0 auto}
.config-panel{background:#000;padding:20px;border-radius:10px;border:1px solid #333;display:flex;gap:20px;position:relative;flex-direction:row}
.tab-labels{display:flex;flex-direction:column;border-left:3px solid #333;gap:0;width:180px}
.tab-labels button{background:transparent;border:none;color:#eee;padding:12px 16px;text-align:left;cursor:pointer;border-left:3px solid transparent;transition:background .2s,border-left .2s}
.tab-labels button.active{background:#1a1a1a;border-left:3px solid #cc0000;font-weight:700}
.tab-content{flex:1;background:#1a1a1a;padding:15px;border:1px solid #444;border-radius:6px;min-height:220px}
label{display:block;margin-top:12px;margin-bottom:4px}
select,input{width:100%;padding:10px;background:#222;color:#eee;border:1px solid #444;border-radius:6px}
input.readonly{background:#333;color:#ccc}
button.action{width:100%;padding:12px;background:#cc0000;color:#fff;font-size:16px;border:none;border-radius:6px;cursor:pointer}
button.action:hover{background:#ff0000}
.preview-panel{background:#000;padding:20px;border-radius:10px;border:1px solid #333;display:flex;flex-direction:column;justify-content:space-between}
